<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ScriptParser module: parse() function</title>
    <link href="virtualcube.css" rel="stylesheet" type="text/css">
    <script type="module">
      import ScriptParser from '../lib/ScriptParser.mjs';
      import ScriptNotation from '../lib/ScriptNotation.mjs';

      let tests = document.getElementsByClassName("unittest");
      let inputs = document.getElementsByClassName("input");
      let expecteds = document.getElementsByClassName("expected");
      let actuals = document.getElementsByClassName("actual");

      let notation = new ScriptNotation.DefaultNotation();
      let parser = new ScriptParser.ScriptParser(notation);

      let appendAst = function (buf, ast) {
        if (ast.getNodeName() == "permutationitem") {
          buf.push(ast.getLocation());
          buf.push(":");
          buf.push(ast.getOrientation());
          return;
        }
        buf.push(ast.getStartPosition());
        buf.push("..");
        buf.push(ast.getEndPosition());
        buf.push(" ");
        buf.push(ast.getNodeName());
        buf.push("{");
        switch (ast.getNodeName()) {
          case "move":
            buf.push(" ");
            buf.push(ast.getAxis());
            buf.push(":");
            buf.push(ast.getLayerMask());
            buf.push(":");
            buf.push(ast.getAngle());
            break;
          case "repetition":
            buf.push(" ");
            buf.push(ast.getRepeatCount());
            buf.push(",");
            break;
         case "permutation":
            buf.push(" ");
            switch (ast.getType()) {
              case 1:
                buf.push("Side");
                break;
              case 2:
                buf.push("Edge");
                break;
              case 3:
                buf.push("Corner");
                break;
              default:
                buf.push(ast.getType());
                break;
            }
            buf.push(" sign:");
            buf.push(ast.getSign());
            break;
        }
        for (let child of ast.getChildren()) {
          buf.push(" ");
          appendAst(buf, child);
        }
        buf.push(" }");
//        buf.push(ast.toString());
      };

      for (let i = 0; i < tests.length; i++) {
        let input = inputs[i].innerText;
        let expected = expecteds[i].innerText;

       // try {
          let ast = parser.parse(input);
          let buf = new Array();
          appendAst(buf, ast);
          let actual = buf.join("");
          actuals[i].innerText = actual;
          tests[i].classList.add(actual == expected ? "pass" : "fail");
       /* } catch (err) {
          actuals[i].innerText = err;
          tests[i].classList.add("fail");
        }*/
      }
    </script>
  </head>
  <body class="responsive">
    <h1>Tests for the <kbd>ScriptParser.parse()</kbd> methods in the <kbd>ScriptParser</kbd> module.</h1>

  <article>
    <section class="unittest">
      <p class="input"></p>
      <p class="expected">0..0 sequence{ }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input"> </p>
      <p class="expected">0..0 sequence{ }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input"> </p>
      <p class="expected">0..0 sequence{ }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">.</p>
      <p class="expected">0..1 sequence{ 0..1 nop{ } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 0:4:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">U</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 1:4:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">F</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 2:4:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">L</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 0:1:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">D</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 1:1:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">B</p>
      <p class="expected">0..1 sequence{ 0..1 move{ 2:1:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 0:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">U'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 1:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">F'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 2:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">L'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 0:1:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">D'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 1:1:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">B'</p>
      <p class="expected">0..2 sequence{ 0..2 inversion{ 0..1 move{ 2:1:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:4:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">U2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:4:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">F2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:4:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">L2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:1:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">D2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:1:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">B2</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:1:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MR</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:2:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MU</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:2:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MF</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:2:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">ML</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:2:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MD</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:2:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MB</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:2:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MR'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:2:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MU'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:2:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MF'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:2:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">ML'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:2:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MD'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:2:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MB'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:2:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MR2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:2:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MU2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:2:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MF2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:2:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">ML2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:2:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MD2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:2:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">MB2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:2:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TR</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:6:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TU</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:6:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TF</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:6:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TL</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:3:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TD</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:3:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TB</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:3:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TR'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:6:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TU'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:6:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TF'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:6:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TL'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:3:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TD'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:3:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TB'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:3:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TR2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:6:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TU2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:6:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TF2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:6:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TL2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:3:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TD2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:3:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">TB2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:3:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CR</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:7:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CU</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:7:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CF</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:7:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CL</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:7:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CD</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:7:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CB</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:7:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CR'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:7:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CU'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:7:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CF'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:7:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CL'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:7:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CD'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:7:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CB'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:7:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CR2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:7:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CU2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:7:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CF2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:7:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CL2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:7:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CD2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:7:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">CB2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:7:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SR</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:5:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SU</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:5:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SF</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:5:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SL</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 0:5:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SD</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 1:5:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SB</p>
      <p class="expected">0..2 sequence{ 0..2 move{ 2:5:-1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SR'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:5:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SU'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:5:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SF'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:5:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SL'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 0:5:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SD'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 1:5:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SB'</p>
      <p class="expected">0..3 sequence{ 0..3 inversion{ 0..2 move{ 2:5:-1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SR2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:5:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SU2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:5:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SF2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:5:2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SL2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 0:5:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SD2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 1:5:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">SB2</p>
      <p class="expected">0..3 sequence{ 0..3 move{ 2:5:-2 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R U F</p>
      <p class="expected">0..5 sequence{ 0..1 move{ 0:4:1 } 2..3 move{ 1:4:1 } 4..5 move{ 2:4:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)</p>
      <p class="expected">0..7 sequence{ 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)'</p>
      <p class="expected">0..8 sequence{ 0..8 inversion{ 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R)2</p>
      <p class="expected">0..4 sequence{ 0..4 repetition{ 2, 0..3 grouping{ 1..2 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R3</p>
      <p class="expected">0..2 sequence{ 0..2 repetition{ 3, 0..1 move{ 0:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)3</p>
      <p class="expected">0..8 sequence{ 0..8 repetition{ 3, 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)'3</p>
      <p class="expected">0..9 sequence{ 0..9 repetition{ 3, 0..8 inversion{ 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)3'</p>
      <p class="expected">0..9 sequence{ 0..9 inversion{ 0..8 repetition{ 3, 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)3''</p>
      <p class="expected">0..10 sequence{ 0..10 inversion{ 0..9 inversion{ 0..8 repetition{ 3, 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R U F)3'4</p>
      <p class="expected">0..10 sequence{ 0..10 repetition{ 4, 0..9 inversion{ 0..8 repetition{ 3, 0..7 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 1:4:1 } 5..6 move{ 2:4:1 } } } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R)'</p>
      <p class="expected">0..4 sequence{ 0..4 inversion{ 0..3 grouping{ 1..2 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R F)'</p>
      <p class="expected">0..6 sequence{ 0..6 inversion{ 0..5 grouping{ 1..2 move{ 0:4:1 } 3..4 move{ 2:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">(R- U F)- (R' U F)'</p>
      <p class="expected">0..19 sequence{ 0..9 inversion{ 0..8 grouping{ 1..3 inversion{ 1..2 move{ 0:4:1 } } 4..5 move{ 1:4:1 } 6..7 move{ 2:4:1 } } } 10..19 inversion{ 10..18 grouping{ 11..13 inversion{ 11..12 move{ 0:4:1 } } 14..15 move{ 1:4:1 } 16..17 move{ 2:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">&lt;CU&gt;R</p>
      <p class="expected">0..5 sequence{ 0..5 conjugation{ 1..3 sequence{ 1..3 move{ 1:7:1 } } 4..5 move{ 0:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">&lt;CU CF&gt;(R)</p>
      <p class="expected">0..10 sequence{ 0..10 conjugation{ 1..6 sequence{ 1..3 move{ 1:7:1 } 4..6 move{ 2:7:1 } } 7..10 grouping{ 8..9 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">&lt;CU CF&gt;'(R)</p>
      <p class="expected">0..11 sequence{ 0..11 rotation{ 1..6 sequence{ 1..3 move{ 1:7:1 } 4..6 move{ 2:7:1 } } 8..11 grouping{ 9..10 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">&lt;CU CF&gt;(R B)</p>
      <p class="expected">0..12 sequence{ 0..12 conjugation{ 1..6 sequence{ 1..3 move{ 1:7:1 } 4..6 move{ 2:7:1 } } 7..12 grouping{ 8..9 move{ 0:4:1 } 10..11 move{ 2:1:-1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">&lt;R&gt;U</p>
      <p class="expected">0..4 sequence{ 0..4 conjugation{ 1..2 sequence{ 1..2 move{ 0:4:1 } } 3..4 move{ 1:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">[CU,R]</p>
      <p class="expected">0..6 sequence{ 0..6 commutation{ 1..3 sequence{ 1..3 move{ 1:7:1 } } 4..5 sequence{ 4..5 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">[CU CF,R]</p>
      <p class="expected">0..9 sequence{ 0..9 commutation{ 1..6 sequence{ 1..3 move{ 1:7:1 } 4..6 move{ 2:7:1 } } 7..8 sequence{ 7..8 move{ 0:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">[CU CF,R B]</p>
      <p class="expected">0..11 sequence{ 0..11 commutation{ 1..6 sequence{ 1..3 move{ 1:7:1 } 4..6 move{ 2:7:1 } } 7..10 sequence{ 7..8 move{ 0:4:1 } 9..10 move{ 2:1:-1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">[R,U]</p>
      <p class="expected">0..5 sequence{ 0..5 commutation{ 1..2 sequence{ 1..2 move{ 0:4:1 } } 3..4 sequence{ 3..4 move{ 1:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R U R'</p>
      <p class="expected">0..6 sequence{ 0..1 move{ 0:4:1 } 2..3 move{ 1:4:1 } 4..6 inversion{ 4..5 move{ 0:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R U R' U'</p>
      <p class="expected">0..9 sequence{ 0..1 move{ 0:4:1 } 2..3 move{ 1:4:1 } 4..6 inversion{ 4..5 move{ 0:4:1 } } 7..9 inversion{ 7..8 move{ 1:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R*</p>
      <p class="expected">0..2 sequence{ 0..2 reflection{ 0..1 move{ 0:4:1 } } }</p>
      <p class="actual"></p>
    </section>
  </article>

  <article>
    <section class="unittest">
      <p class="input">(R' U F)*</p>
      <p class="expected">0..9 sequence{ 0..9 reflection{ 0..8 grouping{ 1..3 inversion{ 1..2 move{ 0:4:1 } } 4..5 move{ 1:4:1 } 6..7 move{ 2:4:1 } } } }</p>
      <p class="actual"></p>
    </section>
  </article>


  <article>
    <section class="unittest">
      <p class="input">R . U · F</p>
      <p class="expected">0..9 sequence{ 0..1 move{ 0:4:1 } 2..3 nop{ } 4..5 move{ 1:4:1 } 6..7 nop{ } 8..9 move{ 2:4:1 } }</p>
      <p class="actual"></p>
    </section>
  </article>

    <article>
      <section class="unittest">
        <p class="input">(+urf,bru,drb,frd) (+ur,br,dr,fr) (+r) (r,b) (++u,d) (++f,+l)</p>
        <p class="expected">0..61 sequence{ 0..18 permutation{ Corner sign:2 0:0 2:2 3:0 1:2 } 19..33 permutation{ Edge sign:1 0:0 4:1 2:0 1:1 } 34..38 permutation{ Side sign:3 0:0 } 39..44 permutation{ Side sign:0 0:0 5:0 } 45..52 permutation{ Side sign:2 1:0 4:0 } 53..61 permutation{ Side sign:2 2:0 3:3 } }</p>
        <p class="actual"></p>
      </section>
    </article>
  </body>
</html>
